# ClosetX REST API

## Table of Contents
* [Creating a New User](#signup)
* [Logging in to Existing User](#login)

### <a id="signup"></a>Creating a New User

Send a POST request to base_URL/api/signup where the request body looks like this:

```js

{
    "first": "John",
    "last": "Doe",
    "username": "johndoe46",
    "email": "john@doe.com",
    "password": "password",
    "confirmpassword": "password"
}

```

If the user already exists in the database (i.e. the username or e-mail already exists), the server will respond with status 400 and the following message:

```js

{
  "msg": "User Already Exists"
}

```

The server will also respond with status 400 and corresponding message for the following error cases:

* E-mail not provided
* E-mail field was not a valid e-mail address
* First name not provided
* Last name not provided
* Username not provided
* Password not long enough
* "password" and "confirmpassword" properties do not match

### <a id="login"></a>Logging into an existing user

Send a GET request to base_URL/api/login where the request header looks like this:

```js

{
  "Authorization": "Basic dXNlckQvbmUuY29tOnChc3N3b3Jk"
}

```
The part of the authorization string following "Basic " is created by encoding the user's login credentials in base64.  For example, to obtain the authorization string for a user with the following credentials:

* email: test@test.com
* password: password

one would perform base64 encoding on the following string: "test@test.com:password", followed by concatenating to the word "Basic" with a space in the middle.

If the login credentials match those of a user in the database, the server will respond with status 200 and the following JSON object:

```js
{
  "msg": "Logged in successfully!",
  "token": login_token
}
```
where the login_token is a unique string generated by the server for the user.  The token can then be used to access all routes that require a logged in user.  
